<!DOCTYPE html>
<html>
  <head>
    <title>Post-gas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 16,
          center: new google.maps.LatLng(24.179036, 120.649544),
          mapTypeId: 'roadmap'
        });

        var icons = {
          PostOffice: {
            icon: 'PostOffice.png'
          },
          gas: {
            icon: 'gas.png'
          }
        };

        var address = "123";

        var features = [
        {
          position: new google.maps.LatLng(24.181587, 120.603122),
  				type: 'PostOffice',
          content: "臺中市西屯區臺灣大道4段1727號(東海大學內)"
  			}, {
  				position: new google.maps.LatLng(24.175272, 120.649134),
  				type: 'PostOffice',
          content: "臺中市西屯區河南路2段268號"
  			}, {
  				position: new google.maps.LatLng(24.176690, 120.637643),
  				type: 'PostOffice',
          content: "臺中市西屯區黎明路3段130號"
  			}, {
  				position: new google.maps.LatLng(24.164694, 120.654240),
  				type: 'PostOffice',
          content: "臺中市西屯區青海路1段83號"
  			}, {
  				position: new google.maps.LatLng(24.169928, 120.606454),
  				type: 'PostOffice',
          content: "臺中市西屯區工業區六路10號	"
  			}, {
  				position: new google.maps.LatLng(24.183926, 120.604686),
  				type: 'PostOffice',
          content: "臺中市西屯區臺灣大道4段1650號(台中榮總內)"
  			}, {
  				position: new google.maps.LatLng(24.190603, 120.612347),
  				type: 'PostOffice',
          content: "臺中市西屯區永安里西屯路3段166-80號"
  			}, {
  				position: new google.maps.LatLng(24.156463, 120.652961),
  				type: 'PostOffice',
          content: "臺中市西屯區大隆路60、62號"
  			}, {
  				position: new google.maps.LatLng(24.183478, 120.618559),
  				type: 'PostOffice',
          content: "臺中市西屯區福順路318號"
  			}, {
  				position: new google.maps.LatLng(24.166584, 120.643144),
  				type: 'PostOffice',
          content: "西屯區臺灣大道3段366號1樓"
  			}, {
  				position: new google.maps.LatLng(24.208579, 120.614081),
  				type: 'PostOffice',
          content: "西屯區中科路1號"
  			}, {
				   position: new google.maps.LatLng(24.184747, 120.590840), // gas
				   type: 'gas',
				   content: "青海路二段211號"
			   }, {
				position: new google.maps.LatLng(24.183437, 120.600890),
				type: 'gas',
				content: "環中路一段2490號"
			}, {
				position: new google.maps.LatLng(24.175578, 120.604240),
				type: 'gas',
				content: "台灣大道四段1047號"
			}, {
				position: new google.maps.LatLng(24.183873, 120.614410),
				type: 'gas',
				content: "中清路三段1號"
			}, {
				position: new google.maps.LatLng(24.167501, 120.618597),
				type: 'gas',
				content: "台灣大道五段142號"
			}, {
				position: new google.maps.LatLng(24.192688, 120.622994),
				type: 'gas',
				content: "西屯路三段90之28號"
			}, {
				position: new google.maps.LatLng(24.207093, 120.628976),
				type: 'gas',
				content: "台灣大道四段1832號"
			}, {
				position: new google.maps.LatLng(24.184831, 120.629814),
				type: 'gas',
				content: "西屯路三段77之3號"
			}, {
				position: new google.maps.LatLng(24.183521, 120.633762),
				type: 'gas',
				content: "文心路三段2號"
			}, {
				position: new google.maps.LatLng(24.163437, 120.628378),
				type: 'gas',
				content: "文心路三段187號"
			}, {
				position: new google.maps.LatLng(24.195698, 120.644059),
				type: 'gas',
				content: "福雅路300號"
			}, {
				position: new google.maps.LatLng(24.203076, 120.654399),
				type: 'gas',
				content: "工業區八路2號"
			}, {
				position: new google.maps.LatLng(24.200642, 120.655233),
				type: 'gas',
				content: "河南路二段35號"
			}, {
				position: new google.maps.LatLng(24.201327, 120.656901),
				type: 'gas',
				content: "環中路三段800號"
			}, {
				position: new google.maps.LatLng(24.202239, 120.663072),
				type: 'gas',
				content: "河南路二段341號"
			}, {
				position: new google.maps.LatLng(24.172041, 120.643893),
				type: 'gas',
				content: "安和路51-8號"
			}, {
				position: new google.maps.LatLng(24.173030, 120.645560),
				type: 'gas',
				content: "環中路二段698號	"
			}, {
				position: new google.maps.LatLng(24.163520, 120.649730),
				type: 'gas',
				content: "環中路二段1286號"
			}, {
				position: new google.maps.LatLng(24.175008, 120.659569),
				type: 'gas',
				content: "台灣大道二段917號	"
			}, {
				position: new google.maps.LatLng(24.172573, 120.659903),
				type: 'gas',
				content: "福雅路693號"
        }];

        // Create markers.
        features.forEach(function(feature) {
          var marker = new google.maps.Marker({
            position: feature.position,
            icon: icons[feature.type].icon,
            map: map
          });

          var infowindow = new google.maps.InfoWindow({
            content: feature.content
          });

          marker.addListener('mouseover', function() {
            infowindow.setContent(feature.content);
            infowindow.open(map, marker);
          });

          /*google.maps.event.addListener(marker, 'mouseover', (function (marker, content, infowindow) {
            return function () {
                infowindow.setContent(content);
                infowindow.open(map, marker);
            };
        })(marker, content, infowindow));*/

          google.maps.event.addListener(marker, 'mouseout', function () {
            infowindow.close();
        });

        });
      }
    </script>

<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDWE6pvHQBKhaFn6yFv51eNRIbsrv76Cjc&callback=initMap">
</script>
</body>
</html>
